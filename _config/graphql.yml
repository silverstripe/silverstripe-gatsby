---
Name: silverstripe-gatsby
---
SilverStripe\Control\Director:
  rules:
    '__gatsby/graphql': '%$SilverStripe\GraphQL\Controller.gatsby'
SilverStripe\Core\Injector\Injector:
  SilverStripe\GraphQL\Controller.gatsby:
    class: SilverStripe\GraphQL\Controller
    constructor:
      schema: gatsby
#  SilverStripe\GraphQL\Schema\Registry\PluginRegistry:
#    constructor:
#      - 'SilverStripe\Gatsby\GraphQL\HideGhostNodes'

SilverStripe\GraphQL\Schema\Schema:
  schemas:
    gatsby:
      src: 'silverstripe/silverstripe-gatsby: _graphql'

