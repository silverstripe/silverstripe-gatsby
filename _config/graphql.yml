---
Name: silverstripe-gatsby
---
SilverStripe\Control\Director:
  rules:
    '__gatsby/graphql': '%$SilverStripe\GraphQL\Controller.gatsby'
SilverStripe\Core\Injector\Injector:
  SilverStripe\GraphQL\Manager.gatsby:
    class: SilverStripe\GraphQL\Manager
    constructor:
      identifier: gatsby
    properties:
      Middlewares:
        CSRFMiddleware: '%$SilverStripe\GraphQL\Middleware\QueryMiddleware.csrf'
        HTTPMethodMiddleware: '%$SilverStripe\GraphQL\Middleware\QueryMiddleware.httpMethod'
  SilverStripe\GraphQL\Controller.gatsby:
    class: SilverStripe\GraphQL\Controller
    constructor:
      manager: '%$SilverStripe\GraphQL\Manager.gatsby'


SilverStripe\GraphQL\Manager:
  schemas:
    gatsby:
      queries:
        sync: 'StevieMayhew\Gatsby\GraphQL\Queries\SyncQueryCreator'
      types:
        DataObject: 'StevieMayhew\Gatsby\GraphQL\Types\DataObjectTypeCreator'
        DataObjectTuple: 'StevieMayhew\Gatsby\GraphQL\Types\DataObjectTupleTypeCreator'
        DataObjectRelation: 'StevieMayhew\Gatsby\GraphQL\Types\DataObjectRelationTypeCreator'
        SyncResult: 'StevieMayhew\Gatsby\GraphQL\Types\SyncResultTypeCreator'
StevieMayhew\Gatsby\GraphQL\Queries\SyncQueryCreator:
  excluded_dataobjects:
    changeSet: 'SilverStripe\Versioned\ChangeSet'
    changeSetItem: 'SilverStripe\Versioned\ChangeSetItem'
    fileLink: 'SilverStripe\Assets\Shortcodes\FileLink'
    siteTreeLink: 'SilverStripe\CMS\Model\SiteTreeLink'
    loginAttempt: 'SilverStripe\Security\LoginAttempt'
    memberPassword: 'SilverStripe\Security\MemberPassword'
    loginHash: 'SilverStripe\Security\RememberLoginHash'
